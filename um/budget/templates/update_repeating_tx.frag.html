{% load filters %}

<form class="row p-1" autocomplete="off" method="post"
    onchange="$(this).find('.save-btn')[0].disabled=false">
  {{ form.data_id }}
  <fieldset class="rounded border border-secondary p-1 w-100"
      onfocusin="window.forms.accordion($(this).find('.accordion-member'))">
    <div class="d-flex justify-content-between m-2">
      <h5 class="w-100 mb-0 mt-1 data-summary"></h5>
      <div><button type="button" class="btn btn-primary">Edit</button></div>
    </div>
    <div class="collapse accordion-member">
      {% for field in form %}
        {% if field != form.data_id %}
          <div class="form-row m-1">
            <div class="col-5 col-sm-5 child-w-100">
              {{ field.label_tag }}
            </div>
            <div class="col-7 col-sm-7 child-w-100">
              {{ field|addcssclass:'form-control' }}
            </div>
          </div>
          <div class="form-row m-1">
            <div class="col-5 col-sm-5 d-block m-0">
            </div>
            <div class="col-7 col-sm-7 invalid-feedback d-block m-0 {{ field.label|lower }}_error">
              {{ field.errors }}
            </div>
          </div>
        {% endif %}
      {% endfor %}
      <div class="form-row">
        <div class="invalid-feedback d-block m-0 non_field_error">
          {{ form.non_field_errors }}
        </div>
      </div>
      <div class="d-flex justify-content-between m-2">
        <button type="button" class="btn btn-danger"
          onclick="window.listManage.delete(event)">Delete</button>
        <button type="button" class="btn btn-success save-btn"
          onclick="window.listManage.save(event)" disabled="true">Save</button>
      </div>
    </div>
  </fieldset>
</form>