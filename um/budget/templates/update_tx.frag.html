{% load filters %}

<form class="row p-1" autocomplete="off" method="post"
    onchange="$(this).find('.save-btn')[0].disabled=false">
  {{ form.data_id }}
  {{ form.is_repeating|addcssclass:'hidden' }}
  {{ form.frequency|addcssclass:'hidden' }}
  <fieldset class="pr-2 pl-2 pb-1 pt-0">
    <small id="id_date"></small>
    <div class="form-row form-group m-1"
        onfocusin="window.forms.accordion($(this).siblings('.accordion-member'))">
      <div class="col-4 col-sm-4 child-w-100 pl-0">
        {{ form.category|addcssclass:'form-control' }}
      </div>
      <div class="col-4 col-sm-4 child-w-100">
        {{ form.specific_place|addcssclass:'form-control' }}
      </div>
      <div class="col-4 col-sm-4 child-w-100 pr-0">
        {{ form.amount|addcssclass:'form-control' }}
      </div>
    </div>
    <div class="form-row">
      <div class="col-4 col-sm-4 invalid-feedback d-block m-0 category_error">
        {{ form.category.errors }}
      </div>
      <div class="col-4 col-sm-4 invalid-feedback d-block m-0 specific_place_error">
        {{ form.specific_place.errors }}
      </div>
      <div class="col-4 col-sm-4 invalid-feedback d-block m-0 amount_error">
        {{ form.amount.errors }}
      </div>
    </div>
    <div class="form-row">
      <div class="invalid-feedback d-block m-0 __all___error">
        {{ form.non_field_errors }}
      </div>
    </div>
    <div class="form-group m-1 mt-2 collapse accordion-member">
      <div class="d-flex justify-content-between">
        <button type="button" class="btn btn-danger"
          data-action="{% url 'remove_transaction_api' %}"
          onclick="window.listManage.delete(event)">Delete</button>
        <div id="saveFeedback" class="pt-2 pr-2 w-100 text-right text-success" style="display:none">Saved!</div>
        <button type="button" class="btn btn-success save-btn"
          data-action="{% url 'add_transaction_api' %}"
          onclick="window.listManage.save(event)" disabled="true">Save</button>
      </div>
    </div>
  </fieldset>
</form>