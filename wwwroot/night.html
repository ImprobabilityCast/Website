<html>
<script>
// This is something I wrote in attempt to answer a question on 
// Stackoverflow.com


document.addEventListener ("DOMContentLoaded", handleDocumentLoad);

function handleDocumentLoad() {

    //Variable
    var offSwitch = document.getElementById("lightSwitchOff"); //Targets div with ID lightSwitchOff
    var onSwitch = document.getElementById("lightSwitchOn"); //Targets div with ID lightSwitchOn
    var style = document.getElementById("pageStyle"); //Targets stylsheet
    offSwitch.innerHTML = "Turn On Night Mode";
    onSwitch.innerHTML = "Turn Off Night Mode";
    onSwitch.style.display = "none";

    //Event Listener
    offSwitch.addEventListener("click", lightsOff); //When clicked this action is performed
    onSwitch.addEventListener("click", lightsOn); //When clicked this action is performed
    var sugar = document.cookie;
    // finds the lights cookie
    var start = sugar.indexOf("lights=");
    // if there is a light cookie
    if (start != -1) {
        // moves the start index to the value of the cookie
        start += "lights=".length;
        // finds the end of the lights cookie value
        var end = sugar.indexOf(";", start);
        var cookieValue;
        // extract the value of the lights cookie
        if (end == -1) {
            cookieValue = sugar.substring(start);
        } else {
            cookieValue = sugar.substring(start, end);
        }
        
        if (cookieValue == "on") {
            lightsOn();
        } else {
            lightsOff();
        }
    }

    //Function
    function lightsOff() { /*This changes the background colour to black and makes text white*/
        style.setAttribute('href', 'css/darkStyle.css');
        onSwitch.innerHTML = "Turn Off Night Mode";
        onSwitch.style.display = "inline";
        offSwitch.style.display = "none";
        document.cookie = "lights=off";
    }

    function lightsOn() { /*This changes the background colour to a white and makes text black*/
        style.setAttribute('href', 'css/lightStyle.css');
        offSwitch.innerHTML = "Turn On Night Mode";
        onSwitch.style.display = "none";
        offSwitch.style.display = "inline";
        document.cookie = "lights=on";
    }
}

</script>
<link id="pageStyle" rel="stylesheet" type="text/css" href="" />
<body>
<footer>
    <button type="button" id="lightSwitchOff">OFF</button>
    <button type="button" id="lightSwitchOn">ON</button>
</footer> <!-- Closes Footer -->
</body>
</html>